<!DOCTYPE html>
<html lang="de" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/party.css" rel="stylesheet">
    <script src="https://unpkg.com/vue"></script>
    <script src="js/rest_util.js"></script>
    <script src="js/header.js" defer></script>
    <script src="js/party.js" defer></script>
    <title>Papla - Dein Partyplaner!</title>
</head>

<body class="container">
<header class="header">
    <div id="stripes"></div>
    <div id="navi">
        <ul>
            <li><a href="profile.html">{{name}}</a></li>
            <li>|</li>
            <li>
                <button @click="showNotifications = !showNotifications">Benachrichtigungen<img src="img/bell_icon.png"
                                                                                               alt="Benachrichtigungen">
                </button>
            </li>
            <li>
                <button @click="logout()">Abmelden<img src="img/login_icon.png" alt="Abmelden"></button>
            </li>
        </ul>
    </div>

    <div id="logo"><img src="img/logo.png" alt="Papla icon"></div>
</header>

<nav class="navigation">
    <div id="bar">
        <a id="bar_home" href="home.html">Home</a>
        <a id="bar_profil" href="profile.html">Profil</a>
        <a id="bar_eigene" href="ownEvents.html">Eigene Veranstaltungen</a>
    </div>
</nav>

<div class="left">
</div>
<div class="right">
</div>

<main class="main">
    <div id="content">

        <div id="picture">
            <div id="imageFrame">
                <span></span><img :src="image">
            </div>
            <span v-if="owner">
                <input type="file" id="uploadButton" style="display: none"/>
                <button onclick="document.getElementById('uploadButton').click();">Profilbild Ändern</button>
            </span>
        </div>

        <div id="party_data">
            <div tag="segment">
                <label>Was?</label>
                <input v-model="partyname" placeholder="Name der Party" v-bind:readonly="!owner"/>
            </div>
            <div tag="segment">
                <label>Wer?</label>
                <input v-model="gastgeber" readonly/>
            </div>
            <div tag="segment">
                <label>Wo?</label>
                <input v-model="ort" placeholder="Veranstaltungsort" v-bind:readonly="!owner"/>
                <button tag="maps" v-if="!isCreation" @click="mapsAufrufen()"><img src="img/maps_icon.png" width="20px">
                </button>
            </div>
            <div tag="segment">
                <label>Start?</label>
                <input type="date" v-model="startDatum" v-bind:readonly="!owner"/>
                <input type="time" v-model="startZeit" v-bind:readonly="!owner"/>
            </div>
            <div tag="segment" v-if="owner || endDatum">
                <label>Ende?</label>
                <input type="date" v-model="endDatum" v-bind:readonly="!owner"/>
                <input type="time" v-model="endZeit" v-bind:readonly="!owner"/>
            </div>
            <div tag="segment" v-if="owner">
                <span><button @click="updateParty">Party {{isCreation ? "Starten!" : "Speichern"}}</button></span>
                <span><button @click="" v-if="!isCreation">Party Absagen</button></span>
            </div>
        </div>


        <div id="party_description">
            <label>Details</label><br>
            <textarea v-model="description"
                      v-bind:readonly="!owner"></textarea>
        </div>

        <!------------------------------------------TABS START------------------------------------------------------------>
        <div class="tab">
            <ul>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'Kommentare')" id="defaultOpen">Kommentare</button>
                </li>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'Aufgabenliste')" id="OpenAufgabenliste">
                        Aufgabenliste
                    </button>
                </li>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'Gaesteliste')" id="OpenGaeste">Gästeliste</button>
                </li>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'ToDoListe')" id="OpenToDo">ToDo-Liste</button>
                </li>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'Abstimmungen')" id="OpenAbstimmung">Abstimmungen
                    </button>
                </li>
                <li>
                    <button class="tablinks" onclick="openTab(event, 'Bewertung')" id="OpenBewertung">Bewertung</button>
                </li>
            </ul>
        </div>
        <!-------------------------------------------TABS ENDE------------------------------------------------------------>

        <!-------------------------------------------AUFGABENLISTE START------------------------------------------------------------>
        <table id="Aufgabenliste" class="tabcontent">
            <tbody>
            <tr tag="header">
                <td style="width: 35%;">Aufgaben:</td>
                <td style="width: 35%;">Verantwortlicher:</td>
                <td style="width: 15%;">Status:</td>
                <td v-if="owner" style="width: 15%;"></td>
            </tr>
            <template v-for="(task, index) in tasks">
                <tr tag="data">
                    <td>{{task.text}}</td>
                    <td>{{task.User.name}}</td>
                    <td><input type="checkbox" v-bind:checked="task.status===1"></td>
                    <td v-if="owner">
                        <button @click="">X</button>
                    </td>
                </tr>
            </template>
            <tr v-if="owner && !addTask">
                <td>
                    <button @click="addTask = true">+</button>
                </td>
            </tr>
            <tr v-if="addTask">
                <td><input placeholder="Aufgabe"></td>
                <td>
                    <select name="Nutzer"/>
                    <option v-for="(user, index) in guests">{{user.User.name}}</option>
                    </select>
                </td>
                <td>
                    <button @click="">Speichern</button>
                </td>
                <td>
                    <button @click="addTask = false">Abbrechen</button>
                </td>
            </tr>
            </tbody>
        </table>
        <!--
         <div id="Aufgaben_samp">
             <label for="vorname"></label>
             <p></p>
             <samp class="samp_Report">Getränke</samp>
             <p></p>
             <samp class="samp_Report"> Kuchen </samp>
             <p></p>
             <samp class="samp_Report">Skat Spiel </samp>
             <p></p>
             <samp class="samp_Report"> Kaffee </samp>
             <p></p>
             <samp class="samp_Report"> Bastelsachen </samp>
             <p></p>
             <samp class="samp_Report"> Musikbox </samp>
         </div>

         <div id="Responsible">
             <label class="Resp_Header" for="vorname">Verantwortlicher:</label>
             <p></p>
             <samp class="samp_Report">Edmund</samp>
             <p></p>
             <samp class="samp_Report"> Ursula </samp>
             <p></p>
             <samp class="samp_Report">Angela </samp>
             <p></p>
             <samp class="samp_Report"> Martin </samp>
             <p></p>
             <samp class="samp_Report"> Sarah </samp>
             <p></p>
             <samp class="samp_Report" style="color: blue"> wird gesucht </samp>
             <input type="button" name="Meldung" value="" style="background-repeat: no-repeat; border-color: #0000cd; background-image: url(finger.jpg);
                         background-position: center; width: 15px; height:25px">
         </div>

         <div id="Pencil_Butt">
             <input type="button" name="Change_1" value="" style="background-image: url(img/pencil.png)">
             <p></p>
             <input type="button" name="Change_2" value="" style="background-image: url(img/pencil.png)">
             <p></p>
             <input type="button" name="Change_3" value="" style="background-image: url(img/pencil.png)">
             <p></p>
             <input type="button" name="Change_4" value="" style="background-image: url(img/pencil.png)">
             <p></p>
             <input type="button" name="Change_5" value="" style="background-image: url(img/pencil.png)">
             <p></p>
             <input type="button" name="Change_6" value="" style="background-image: url(img/pencil.png)">
         </div>

         <div id="Status">
             <center><label for="vorname">Status:</label>
                 <p></p>
                 <input type="checkbox" name="cp_1">
                 <p></p>
                 <input type="checkbox" name="cp_2">
                 <p></p>
                 <input type="checkbox" name="cp_3" checked="checked">
                 <p></p>
                 <input type="checkbox" name="cp_4">
                 <p></p>
                 <input type="checkbox" name="cp_5" checked="checked">
                 <p></p>
                 <input type="checkbox" name="cp_6">
             </center>
         </div>

         <div id="Trash_Butt">
             <input type="button" name="Trash_1" value="" style="background-image: url(img/trash.png)">
             <p></p>
             <input type="button" name="Trash_2" value="" style="background-image: url(img/trash.png)">
             <p></p>
             <input type="button" name="Trash_3" value="" style="background-image: url(img/trash.png)">
             <p></p>
             <input type="button" name="Trash_4" value="" style="background-image: url(img/trash.png)">
             <p></p>
             <input type="button" name="Trash_5" value="" style="background-image: url(img/trash.png)">
             <p></p>
             <input type="button" name="Trash_6" value="" style="background-image: url(img/trash.png)">
         </div>

         <div id="Butt_Add">
             <input type="button" name="Add_Someone" value="+">
         </div>
     </div>-->
        <!-------------------------------------------AUFGABENLISTE ENDE------------------------------------------------------------->


        <!--
                        <td rowspan="5">
        -->
        <!--
                    <template v-if="canEdit">
                        <tr>
                            <td class="identifier"><label>Was?</label></td>
                            <td>
                                <input v-model="partyname" placeholder="Name" v-bind:readonly="!canEdit"/>
                            </td>
                            <td><img src="img/pencil.png" width="20px"></td>
                            <td></td>
                            <td rowspan="5"><textarea v-model="beschreibung" rows="9"
                                                      cols="55">Dies ist ein Beispieltext</textarea></td>
                            <td><img src="img/pencil.png" width="20px"></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Wer?</label></td>
                            <td><input v-model="gastgeber"/></td>
                            <td><img src="img/pencil.png" width="20px"></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Wo?</label></td>
                            <td><input v-model="ort" name="daddr"/></td>
                            <td><img src="img/pencil.png" width="20px"></td>
                            <td>
                                <button @click="mapsAufrufen()"><img src="img/maps_icon.png" width="20px"></button>
                            </td>

                        </tr>
                        <tr>
                            <td class="identifier"><label>Start?</label></td>
                            <td><input v-model="startzeit"/></td>
                            <td><img src="img/pencil.png" width="20px"></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Ende?</label></td>
                            <td><input v-model="endzeit"/></td>
                            <td><img src="img/pencil.png" width="20px"></td>
                        </tr>
                    </template>
                    <template v-else>
                        <tr>
                            <td class="identifier"><label>Was?</label></td>
                            <td><input v-model="partyname" readonly/></td>
                            <td></td>
                            <td rowspan="4"><textarea v-model="beschreibung" rows="9"
                                                      cols="55" readonly>Dies ist ein Beispieltext</textarea></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Wer?</label></td>
                            <td><input v-model="gastgeber" readonly/></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Wo?</label></td>
                            <td><input v-model="ort" name="daddr" readonly/></td>
                            <td>
                                <button @click="mapsAufrufen()"><img src="img/maps_icon.png" width="20px"></button>
                            </td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Start?</label></td>
                            <td><input v-model="startzeit" readonly/></td>
                        </tr>
                        <tr>
                            <td class="identifier"><label>Ende?</label></td>
                            <td><input v-model="endzeit" readonly/></td>
                        </tr>
                    </template>
                    -->
        </table>
    </div>
</main>


<footer class="footer">
    <ul>
        <li><a href="kontakt.html">Kontakt</a></li>
        <li><a href="hilfe.html">Hilfe</a></li>
        <li><a href="impressum.html">Impressum</a></li>
    </ul>
</footer>


</body>

</html>
